Docker siteweb : groupietracker
docker run -p 8080:8080 groupietracker


mysql:latest image
    - data stockÃ© dans /var/lib/mysql




setup-slave:
    image: mysql:latest
    container_name: setup-slave
    command: ["sh", "/scripts/init-slave.sh"]
    volumes:
      - ./init-slave.sh:/scripts/init-slave.sh
    depends_on:
      - db_server
      - db_slave
    networks:
      - net_web



#!/bin/bash

exec /usr/local/bin/docker-entrypoint.sh "$@" &
# Wait for the master to be ready
sleep 3

# Retrieve the master log file and position
MASTER_STATUS=$(mysql -h mysql_server -u root -proot -e "SHOW MASTER STATUS;" 2> /bin/null | awk 'NR==2') #| grep mysql-bin)
export MASTER_LOG_FILE=$(echo $MASTER_STATUS | awk '{ print $1 }')
export MASTER_LOG_POS=$(echo $MASTER_STATUS | awk '{ print $2 }')

echo $MASTER_STATUS
echo $MASTER_LOG_FILE
echo $MASTER_LOG_POS

/entrypoint.sh